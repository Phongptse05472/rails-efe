<%= content_for :page_title, 'Home' %>
<body>
<div class="right">
  <!--    No login-->
  <h1>Hot Course</h1>
  <div id="exampleSlider1">
    <div class="MS-content">
      <% @course.each do |course| %>
        <div id="item" class="item">
          <div class="thumbnai">
            <% if course.image.attached? %>
              <%= image_tag(course.image) %>
            <% else %>
              <%= image_tag('course_1.jpg') %>
            <% end %>
              <i onclick="bookmark(this,123)" class="fa fa-bookmark-o" aria-hidden="true"></i>
          </div>
          <div class="author">
            <div class="icon">
              <%= image_tag("2.jpg", alt: "") %>
            </div>
            <div class="title">
              <div class="name">
                <%= link_to course.name, course_path(course.slug) %>
              </div>
              <p><%= course.author %></p>
              <script>
                  $(function () {
                      $('.stars').stars();
                  });
              </script>
              <div class="star">
                <span class="stars " data-rating="<%= course.rate %>" data-num-stars="5"></span>
              </div>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star-half-o checked"></span>
              <span class="fa fa-star-o checked"></span>
              <span>(<%= course.number_enrollment %> enroll)</span>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="MS-controls">
      <button class="MS-left"><i class="fa fa-chevron-left"></i></button>
      <button class="MS-right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
    </div>
  </div>
  <h1>Top Course</h1>
  <div id="exampleSlider">
    <div id="top" class="MS-content">
      <% @rate_course.each do |rate_course| %>
        <div id="item" class="item">
          <div class="thumbnai">
            <% if rate_course.image.attached? %>
              <%= image_tag(rate_course.image) %>
            <% else %>
              <%= image_tag('khoa_hoc_2.jpg') %>
            <% end %>
              <i onclick="bookmark(this,rate_course.id)" class="fa fa-bookmark-o" aria-hidden="true"></i>
          </div>
          <div class="author">
            <div class="icon">
              <%= image_tag("2.jpg", alt: "") %>
            </div>
            <div class="title">
              <div class="name">
                <%= link_to rate_course.name, rate_course %>
              </div>
              <p><%= rate_course.author %></p>
              <script>
                  $(function () {
                      $('.stars').stars();
                  });
              </script>
              <span class="stars " data-rating="<%= rate_course.rate %>" data-num-stars="5"></span>

              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span class="fa fa-star checked"></span>
              <span>  (<%= rate_course.number_enrollment %> enroll)</span>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="MS-controls">
      <button class="MS-left"><i class="fa fa-chevron-left"></i></button>
      <button class="MS-right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
    </div>
  </div>
  <h1>Top views article</h1>
  <div id="exampleSlider2">
    <div id="topView" class="MS-content">
      <% @top_view_article.each do |article| %>
        <div id="item" class="item">
          <div class="thumbnai">
            <%= image_tag('java.png') %>
          </div>
          <div class="author">
            <div class="icon">
              <%= image_tag("2.jpg", alt: "") %>
            </div>
            <div class="title">
              <div class="name">
                <%= article.title %>
              </div>
              <p><%= article.author %></p>
              <span><%= article.view_number %> views - 2 months ago</span>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="MS-controls">
      <button class="MS-left"><i class="fa fa-chevron-left"></i></button>
      <button class="MS-right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
    </div>
  </div>
  <h1>Free Course</h1>
  <div id="exampleSlider3">
    <div id="free" class="MS-content">
      <% @free_course.each do |free_course| %>
        <div id="item" class="item">
          <div class="thumbnai">
            <% if free_course.image.attached? %>
              <%= image_tag(free_course.image) %>
            <% else %>
              <%= image_tag('khoa_hoc_2.jpg') %>
            <% end %>
              <i onclick="bookmark(this,123)" class="fa fa-bookmark-o" aria-hidden="true"></i>
          </div>
          <div class="author">
            <div class="icon">
              <%= image_tag("2.jpg", alt: "") %>
            </div>
            <div class="title">
              <div class="name">
                <%= link_to free_course.name, course_path(free_course.slug) %>
              </div>
              <p><%= free_course.author %></p>
              <script>
                  $(function () {
                      $('.stars').stars();
                  });
              </script>
              <span class="stars " data-rating="<%= free_course.rate %>" data-num-stars="5"></span>

              <span>(<%= free_course.number_enrollment %>)</span>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="MS-controls">
      <button class="MS-left"><i class="fa fa-chevron-left"></i></button>
      <button class="MS-right"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
    </div>
  </div>
  <div class="end">
  </div>
</div>
<script>
    function bookmark(bookmark,courseID){
        var x = bookmark;
        if(x.className === "fa fa-bookmark"){
            x.className = "fa fa-bookmark-o";
        }else{
            x.className = "fa fa-bookmark";
        }
        var app1 = new Vue({
            el: '#app1',
            mounted: function () {
                axios.get('/archive_courses/', {
                    params: {
                        num: courseID
                    }
                }).catch(error => {
                    console.log(error);
                });
            }
        });
    }
</script>

<script>
    $('#exampleSlider').multislider({
        interval: 100000,
        continuous: false
    });
    $('#exampleSlider1').multislider({
        interval: 10000,
        continuous: false
    });
    $('#exampleSlider2').multislider({
        interval: 10000,
        continuous: false
    });
    $('#exampleSlider3').multislider({
        interval: 10000,
        continuous: false
    });
    $('#exampleSlider4').multislider({
        interval: 10000,
        continuous: false
    });
</script>
</body>

