<head>
  <%= stylesheet_link_tag 'upload', media: 'all', 'data-turbolinks-track': 'reload' %>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
</head>
<div id="right" class="right">
<%= render "process", step: @step  %>
<h1>Create Articles in "<%= @course.name %>"</h1>
  <div id="form_upload" class="form-upload">
    <%= form_with model: @course, url: wizard_path, method: :put, remote: true, class: "form_upload" do |f| %>
      <%= f.fields_for :articles, f.object.articles.build do |ff| %>
        <div id="container_upload" class="container_upload">
          <div class="upload-video">
            <div class="thum">
              <i class="fa fa-cloud-upload" aria-hidden="true"></i>
              <p>Upload video</p>
              <%= ff.file_field :video %>
            </div>
          </div>
          <div class="information-video">
            <div class="per_row_article">
              <div class="row-left">
                <h2>Title</h2>
              </div>
              <div class="row-right">
                <%= ff.text_field :title, class: "title_article", placeholder: "Title",:required => true %>
              </div>
            </div>
            <div class="per_row_article">
              <div class="row-left">
                <h2>Description</h2>
              </div>
              <div class="row-right">
                <%= ff.text_area :description, class: "desc_course", placeholder: "Description", :required => true %>
              </div>
            </div>
            <div class="per_row_article">
              <div class="row-left">
                <h2>Learning Outcomes</h2>
              </div>
              <div class="row-right">
              <%= ff.select :lo_ids, (Lo.by_skill_ids(Skill.by_group_ids(@course.groups.ids))).name_and_id, {}, {:class => "js-example-basic-multiple", :multiple => "multiple"} %>
              </div>
            </div>
            <div class="per_row_article">
              <div class="row-left">
                <h2>Attached file</h2>
              </div>
              <div class="row-right">      
                <%= ff.text_field :link_file_attach, class: "title_article", placeholder: "Link attached file" %>       
              </div>
            </div>
            <%= f.submit "Continue", class: "btn-save", :onclick => "myFunction();"%>
          </div>
        </div>
        <% end %>
      <%= hidden_field_tag :course_id, params[:course_id] %>
    <% end %>
  </div>
  <div id="list-articles" class="end">
    <%= render 'course', articles: @course.articles %>
    <%= link_to "Back", wizard_path(:landing_page), class: "btn-save" %>
    <%= link_to "Continue", wizard_path(:over_view), class: "btn-save" %>
  </div>
</div>
<script>
  $(document).ready(function() {
    $('.js-example-basic-multiple').select2();
  });
</script>